import scala.concurrent.Await
import scala.concurrent.duration.Duration
import scala.concurrent.ExecutionContext.Implicits.global

// Define a database connection
val db = Database.forConfig("postgres")

val commentDAO = new CommentDAO(db)

// Example usage: Insert a new comment
val newComment = Comment(None, 1, "This is a great post!", "AuthorName")
val insertAction = commentDAO.insert(newComment)

// Execute the action
val commentId = Await.result(db.run(insertAction), Duration.Inf)
println(s"Inserted comment with ID: $commentId")

// Fetch by postId
val commentsAction = commentDAO.findByPostId(1)
val comments = Await.result(db.run(commentsAction), Duration.Inf)
println(s"Comments for post 1: $comments")
